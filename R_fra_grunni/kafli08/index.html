<!DOCTYPE html>
<html class="writer-html5" lang="is" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8. Ályktanir um talnabreytur &mdash; R frá grunni </title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/eqt.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/datacamp-custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/edbook.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/samstem.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/js/eqt.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>
        <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>

<!-- hoverrole.py css code -->
<style type="text/css">
    a.tooltip {
        outline: none;
        border-bottom: thin dotted;
        background: #ffeedd
    }

    a.tooltip strong {
        line-height: 30px;
    }

    a.tooltip:hover {
        text-decoration: none;
    }

    a.tooltip span {
        z-index: 10;
        display: none;
        padding: 14px 20px;
        margin-top: -30px;
        margin-left: 12px;
        width: 310px;
        line-height: 16px;
    }

    a.tooltip:hover span {
        display: inline;
        position: absolute;
        color: #111;
        border: 1px solid #DCA;
        background: #fffAF0;
    }

    .callout {
        z-index: 20;
        position: absolute;
        top: 30px;
        border: 0;
        left: -12px;
    }

    /*CSS3*/
    a.tooltip span {
        border-radius: 4px;
        box-shadow: 5px 5px 8px #CCC;
    }
</style>
<!-- End hoverrole.py css code -->

<style type="text/css">
    .sagecell .CodeMirror-scroll {
        overflow-y: hidden;
        overflow-x: auto;
    }

    .sagecell .CodeMirror {
        height: auto;
    }

    /* - Begin equation reference style - */
    h6.eqno {
        display: inline-block;
        padding-left: 10px;
    }

    h6 .headerlink {
        display: inline-block !important;
    }

    h6 .headerlink:after {
        visibility: hidden !important;
    }

    h6 .headerlink:hover:after {
        visibility: visible !important;
    }

    .eqno:hover>.headerlink:after {
        visibility: visible !important;
    }

    table>caption>.headerlink {
        visibility: hidden !important;
    }

    table>caption>.headerlink {
        visibility: hidden !important;
    }

    /* - End - */
</style>



    <link rel="index" title="Atriðaskrá" href="../genindex/" />
    <link rel="search" title="Leit" href="../search/" />
    <link rel="next" title="9. Einþátta fervikagreining" href="../kafli09/" />
    <link rel="prev" title="7. Ályktanir um flokkabreytur" href="../kafli07/" />



<!--	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>-->
<script type="text/javascript" src="https://cdn.geogebra.org/apps/deployggb.js"></script>
<script>ggbAppletId = [];</script>


 

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            R frá grunni
              <img src="../_static/samstem.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../kafli01/">1. Inngangur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli02/">2. Frá tilraun til gagna</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli03/">3. Myndræn framsetning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli04/">4. Lýsandi tölfræði</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli05/">5. Líkindafræðileg undirstaða</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli06/">6. Ályktunartölfræði</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli07/">7. Ályktanir um flokkabreytur</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Ályktanir um talnabreytur</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#alyktanir-um-dreifni">8.1. Ályktanir um dreifni</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dreifni-i-tveimur-yum">8.1.1. Dreifni í tveimur þýðum</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#var-test">8.1.1.1. var.test()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dreifni-i-fleiri-yum">8.1.2. Dreifni í fleiri þýðum</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bartlett-test">8.1.2.1. bartlett.test()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#alyktanir-um-mealtol">8.2. Ályktanir um meðaltöl</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">8.2.1. Ályktanir um meðaltöl</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#t-test">8.2.1.1. t.test()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alyktanir-um-eitt-mealtal">8.2.2. Ályktanir um eitt meðaltal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alyktanir-um-mismun-tveggja-mealtala">8.2.3. Ályktanir um mismun tveggja meðaltala</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alyktanir-um-mismun-fleiri-mealtala">8.2.4. Ályktanir um mismun fleiri meðaltala</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alyktanir-um-mismun-mealtala-parara-maelinga">8.2.5. Ályktanir um mismun meðaltala paraðra mælinga</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#levene-prof-fyrir-dreifni-ast">8.3. Levene próf fyrir dreifni<span class="math notranslate nohighlight">\(^\ast\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#stikalaus-prof-ast">8.4. Stikalaus próf<span class="math notranslate nohighlight">\(^\ast\)</span></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">8.4.1. Stikalaus próf<span class="math notranslate nohighlight">\(^\ast\)</span></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wilcox-test">8.4.1.1. wilcox.test()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#leiksvaei-fyrir-r-koa">8.5. Leiksvæði fyrir R kóða</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kafli09/">9. Einþátta fervikagreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli10/">10. Línuleg aðhvarfsgreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli11/">11. Tvíkosta aðhvarfsgreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli12/">12. Knitr</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ordalistar/">Orðalistar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../um_hofunda/">Um höfunda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../um_R_leiksvaedi/">Um R leiksvæði</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">R frá grunni</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">8. </span>Ályktanir um talnabreytur</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/edbook/haskoli-islands/blob/master/projects/R_fra_grunni/kafli08.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alyktanir-um-talnabreytur">
<h1><span class="section-number">8. </span>Ályktanir um talnabreytur<a class="headerlink" href="#alyktanir-um-talnabreytur" title="Permalink to this heading"></a></h1>
<p>Í þessum kafla munum við skoða aðferðir til að kanna ályktanir um
meðaltöl og dreifni talnabreyta. Tilgátur rannsakenda miðast oft að því
að því að kanna meðaltöl, oftar en ekki að bera tvö meðaltöl saman. Áður
en það er gert er þó ávallt gott (oft nauðsynlegt) að kanna hvort
breytileiki í þýðunum/breytunum sem við erum að rannsaka sé svipaður.</p>
<p>Við byrjum á að kanna mun á dreifni í tveimur (<code class="docutils literal notranslate"><span class="pre">var.test()</span></code>) eða
fleiri normaldreifðum þýðum (<code class="docutils literal notranslate"><span class="pre">bartlett.test()</span></code>). Við vindum okkur svo
í að framkvæma tilgátupróf og smíða öryggisbil fyrir meðaltöl í einu eða
tveimur þýðum. Ef úrtak er nægjanlega stór má ætíð framkvæma slík próf
með z-prófi og sé úrtakið lítið má nota t-próf ef breytan er
normaldreifð. T-prófið er íhaldssamara en z-prófið, þ.e.a.s. ef við
framkvæmum bæði t-próf og z-próf á sömu gögnunum þá mun t-prófið
hafa minni villulíkur. Því er hægt að réttlæta notkun t-prófs alltaf
þegar skilyrði fyrir z-próf eru uppfyllt. Gætið ykkar að það gildir ekki
í hina áttina. Því eru t-próf innbyggð í flest tölfræðiforrit, þar með
talið R, en z-próf eru minna notuð. Viljum við kanna meðaltöl í fleirum
en tveimur þýðum er það gert með einþátta fervikagreiningu en hún er
umfjöllunarefni kafla <a class="reference internal" href="../kafli09/#c-fervikagreining"><span class="std std-numref">9</span></a>.</p>
<section id="alyktanir-um-dreifni">
<span id="s-dreifni"></span><h2><span class="section-number">8.1. </span>Ályktanir um dreifni<a class="headerlink" href="#alyktanir-um-dreifni" title="Permalink to this heading"></a></h2>
<section id="dreifni-i-tveimur-yum">
<h3><span class="section-number">8.1.1. </span>Dreifni í tveimur þýðum<a class="headerlink" href="#dreifni-i-tveimur-yum" title="Permalink to this heading"></a></h3>
<section id="var-test">
<h4><span class="section-number">8.1.1.1. </span>var.test()<a class="headerlink" href="#var-test" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> nöfn á tveimur talnabreytum eða nafn á talnabreytu og
flokkabreytu</p>
<p><strong>Úttak:</strong> gildi á prófstærð, p-gildi, öryggisbil og fleira</p>
<p><strong>Helstu stillingar:</strong> alternative, conf.level</p>
</div>
<hr class="docutils" />
<p>Við mötum <code class="docutils literal notranslate"><span class="pre">var.test()</span></code> aðferðina á mismunandi hátt eftir því hvort
gögnin okkar séu á löngu eða víðu sniði (sjá kafla <a class="reference internal" href="../kafli02/#s-umrodun"><span class="std std-numref">2.7</span></a>).
Algengast er að gögn séu á löngu sniði en þá inniheldur ein breyta
mælingar á talnabreytunni og gildin á annarri breytu gefa til kynna
hvaða hópi hver og ein mæling tilheyrir. Hins vegar geta gögnin verið á
víðu sniði þar sem búið er að skipta talnabreytunni upp í tvær breytur,
eina fyrir hvorn hóp.</p>
<p>Gerum nú ráð fyrir að við höfum normaldreifða breytu mælda í tveimur
þýðum og látum <span class="math notranslate nohighlight">\(\sigma_1^2\)</span> tákna dreifni þýðis 1 og
<span class="math notranslate nohighlight">\(\sigma_2^2\)</span> tákna dreifni þýðis 2. Gerum fyrst ráð fyrir að
mælingarnar séu vistaðar á víðu sniði, í breytunum
<code class="docutils literal notranslate"><span class="pre">breyta1</span></code> og <code class="docutils literal notranslate"><span class="pre">breyta2</span></code>. Til að kanna hvort dreifni þýðanna sé mismunandi
notum við:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">breyta1</span><span class="p">,</span><span class="n">breyta2</span><span class="p">)</span>
</pre></div>
</div>
<p>Ef við erum aftur á móti með mælingarnar okkar á löngu sniði þar sem
mælingarnar okkar eru geymdar í breytunni <code class="docutils literal notranslate"><span class="pre">maeling</span></code> og flokkabreytan
(<code class="docutils literal notranslate"><span class="pre">hopur</span></code>) inniheldur gildi sem gefa til kynna í hvaða flokki
mælingarnar tilheyra mötum við aðferðina með:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">maeling</span><span class="o">~</span><span class="n">hopur</span><span class="p">)</span>
</pre></div>
</div>
<p>Núlltilgátan er: <span class="math notranslate nohighlight">\(H_0: \sigma^2_1 = \sigma^2_2\)</span>, en með
stillingunni <code class="docutils literal notranslate"><span class="pre">alternative</span></code> ráðum við gagntilgátunni.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>stilling</p></th>
<th class="head"><p>gagntilgáta</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alternative=“two.sided”</p></td>
<td><p><span class="math notranslate nohighlight">\(H_1: \sigma^2_1 \neq \sigma^2_2\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>alternative=“greater”</p></td>
<td><p><span class="math notranslate nohighlight">\(H_1: \sigma^2_1 &gt; \sigma^2_2\)</span></p></td>
</tr>
<tr class="row-even"><td><p>alternative=“less”</p></td>
<td><p><span class="math notranslate nohighlight">\(H_1: \sigma^2_1 &lt; \sigma^2_2\)</span></p></td>
</tr>
</tbody>
</table>
<p>Viljum við kanna hvort dreifni í púls sé mismunandi á milli kynjanna
gerum við það með (takið eftir að gögnin eru á löngu sniði):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>var.test(puls$fyrriPuls~puls$kyn)
##
##  F test to compare two variances
##
## data:  puls$fyrriPuls by puls$kyn
## F = 1.2512, num df = 293, denom df = 159, p-value = 0.1155
## alternative hypothesis: true ratio of variances is not equal to 1
## 95 percent confidence interval:
##  0.9461411 1.6360633
## sample estimates:
## ratio of variances
##           1.251186
</pre></div>
</div>
<p>Úr úttakinu má lesa m.a. eftirfarandi:</p>
<ul class="simple">
<li><p>Gildið á prófstærðinni: <span class="math notranslate nohighlight">\(f\)</span> = 1.2512</p></li>
<li><p>p-gildið: 0.1155</p></li>
<li><p>Öryggisbilið: 95 percent confidence interval:
<span class="math notranslate nohighlight">\([0.9461411, 1.6360633]\)</span></p></li>
</ul>
<p>Við sjáum að p-gildið er hátt svo við höfnum ekki núlltilgátunni (m.v.
<span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>) og drögum því enga ályktun. Við sjáum líka að 95%
öryggisbil fyrir hlutfallið á dreifninni er
<span class="math notranslate nohighlight">\([0.9461411, 1.6360633]\)</span>. Hlutlausa ástandið er að hlutfallið sé 1
(því þá er dreifnin jöfn í báðum hópum) og þar sem öryggisbilið
inniheldur töluna 1 höfnum við ekki núlltilgátunni í samræmi við það sem
p-gildið segir.</p>
</section>
</section>
<section id="dreifni-i-fleiri-yum">
<h3><span class="section-number">8.1.2. </span>Dreifni í fleiri þýðum<a class="headerlink" href="#dreifni-i-fleiri-yum" title="Permalink to this heading"></a></h3>
<section id="bartlett-test">
<h4><span class="section-number">8.1.2.1. </span>bartlett.test()<a class="headerlink" href="#bartlett-test" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> nöfn á talnabreytu og flokkabreytu</p>
<p><strong>Úttak:</strong> gildi á prófstærð, p-gildi, öryggisbil og fleira</p>
<p><strong>Helstu stillingar:</strong></p>
</div>
<hr class="docutils" />
<p>Þegar þýðin/hóparnir eru fleiri en tveir má nota <code class="docutils literal notranslate"><span class="pre">bartlett.test()</span></code>
aðferðina. Við þurfum að mata aðferðina með vigri sem inniheldur
mælingarnar okkar og annan vigur sem tilgreinir hvaða hópi mælingarnar
tilheyra. Við notum svo <code class="docutils literal notranslate"><span class="pre">bartlett.test()</span></code> aðferðina til að kanna hvort
munur sé á dreifni hópanna. Við mötum aðferðina með</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bartlett</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">maeling</span> <span class="o">~</span> <span class="n">hopur</span><span class="p">)</span>
</pre></div>
</div>
<p>Viljum við kanna hvort dreifnin er ólík í púlsmælingum í
líkamsræktarhópunum þremur gerum við það með:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>bartlett.test(puls$fyrriPuls ~ puls$likamsraektf)
##
##  Bartlett test of homogeneity of variances
##
## data:  puls$fyrriPuls by puls$likamsraektf
## Bartlett&#39;s K-squared = 4.1246, df = 2, p-value = 0.1272
</pre></div>
</div>
<p>Við sjáum að gildið á prófstærðinni er <span class="math notranslate nohighlight">\(4.1246\)</span> og p-gildið er
<span class="math notranslate nohighlight">\(0.1272\)</span>. P-gildið er hærra en 0.05 og því getum við ekki ályktað
að dreifnin sé misjöfn í hópunum.</p>
</section>
</section>
</section>
<section id="alyktanir-um-mealtol">
<h2><span class="section-number">8.2. </span>Ályktanir um meðaltöl<a class="headerlink" href="#alyktanir-um-mealtol" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3><span class="section-number">8.2.1. </span>Ályktanir um meðaltöl<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<section id="t-test">
<h4><span class="section-number">8.2.1.1. </span>t.test()<a class="headerlink" href="#t-test" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> nöfn á einni eða tveimur talnabreytum eða nafn á talnabreytu
og flokkabreytu</p>
<p><strong>Úttak:</strong> gildi á prófstærð, p-gildi, öryggisbil og fleira</p>
<p><strong>Helstu stillingar:</strong> paired, mu, alternative, conf.level</p>
</div>
<hr class="docutils" />
<p>T-próf eru framkvæmd með skipuninni <code class="docutils literal notranslate"><span class="pre">t.test()</span></code>. Hana má nota nota til
að draga ályktanir um meðaltöl eins þýðis, samanburð tveggja þýða jafnt
og samanburð paraðra mælinga, allt eftir því á hverju hún er mötuð og
hvaða stillingar eru gefnar. Fyrst munum við sjá hvernig skipunin er
notuð til að draga ályktanir um meðaltal þýðis. Að því loknu sjáum við
hvernig við berum saman meðaltöl tveggja þýða og að lokum berum við
saman paraðar mælingar.</p>
</section>
</section>
<section id="alyktanir-um-eitt-mealtal">
<span id="s-eittmedaltal"></span><h3><span class="section-number">8.2.2. </span>Ályktanir um eitt meðaltal<a class="headerlink" href="#alyktanir-um-eitt-mealtal" title="Permalink to this heading"></a></h3>
<p>Þegar skipunin <code class="docutils literal notranslate"><span class="pre">t.test()</span></code> er mötuð með einungis einni breytu
framkvæmir hún t-próf fyrir eitt meðaltal. Aðrar stillingar eru:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu</span></code>: Við prófum tilgátuprófið <span class="math notranslate nohighlight">\(H_0: \mu =\)</span> <code class="docutils literal notranslate"><span class="pre">mu</span></code>. <code class="docutils literal notranslate"><span class="pre">mu</span></code> er
því viðmiðunargildi núlltilgátunnar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alternative</span></code>: Við gefum skipunina <code class="docutils literal notranslate"><span class="pre">alternative=&quot;two.sided&quot;</span></code> ef
gagntilgátan er tvíhliða, <code class="docutils literal notranslate"><span class="pre">alternative=&quot;greater&quot;</span></code> ef gagntilgátan
er <span class="math notranslate nohighlight">\(\mu &gt; \mu_0\)</span> og <code class="docutils literal notranslate"><span class="pre">alternative=&quot;less&quot;</span></code> ef gagntilgátan er
<span class="math notranslate nohighlight">\(\mu &lt; \mu_0\)</span>. Sjálfgefið er að hafa tvíhliða gagntilgátu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf.level</span></code>: Þar tilgreinum við hvert öryggið (og þá um leið
villulíkurnar) á að vera fyrir tilgátuprófið og öryggisbilið.
Sjálfgefið er að hafa öryggið <span class="math notranslate nohighlight">\(1-\alpha\)</span> = 0.95.</p></li>
</ul>
<p>Sjálfgefið er að kanna núlltilgátuna: <span class="math notranslate nohighlight">\(H_0: \mu=0\)</span>. Slíkur
samanburður er óáhugaverður ef við viljum t.d. kanna fyrri púls nemenda
því vonandi voru nemendurnir ekki dauðir úr öllum æðum á þeim
mánudagsmorgnum sem tilraunin var framkvæmd. Könnum frekar hvort púlsinn
sé frábrugðinn 70 og tilgreinum það með stillingunni <code class="docutils literal notranslate"><span class="pre">mu</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t.test(puls$fyrriPuls,mu=70)
##
##  One Sample t-test
##
## data:  puls$fyrriPuls
## t = 3.5612, df = 453, p-value = 0.0004082
## alternative hypothesis: true mean is not equal to 70
## 95 percent confidence interval:
##  70.88843 73.07633
## sample estimates:
## mean of x
##  71.98238
</pre></div>
</div>
<p>Í úttakinu eru fólgnar gífurlegar upplýsingar. Við fáum:</p>
<ul class="simple">
<li><p>Prófstærðina: t = 3.5612</p></li>
<li><p>Fjölda frígráða: 453</p></li>
<li><p>p-gildið: <span class="math notranslate nohighlight">\(4.0820624\times 10^{-4}\)</span></p></li>
<li><p>Öryggisbilið, með örygginu tilgreindu: 95 percent confidence
interval: <span class="math notranslate nohighlight">\([70.8884,73.0763]\)</span></p></li>
<li><p>Úrtaksmeðaltalið: mean of x 71.9824</p></li>
</ul>
</section>
<section id="alyktanir-um-mismun-tveggja-mealtala">
<span id="s-tvomedaltol"></span><h3><span class="section-number">8.2.3. </span>Ályktanir um mismun tveggja meðaltala<a class="headerlink" href="#alyktanir-um-mismun-tveggja-mealtala" title="Permalink to this heading"></a></h3>
<p>Þegar draga á ályktanir um mismun meðaltala tveggja þýða
<span class="math notranslate nohighlight">\(\mu_1-\mu_2\)</span> og þegar framkvæma á tilgátupróf fyrir paraðar
mælingar geta gögnin okkar verið á mismunandi formi. Annars vegar geta
gögnin verið á löngu sniði, þar sem að ein breyta inniheldur mælingarnar
á talnabreytunni og önnur breyta tilgreinir hvaða hópi hver og ein
mæling tilheyrir. Algengast er að gögn séu geymd á slíku sniði og eru
púlsgögnin dæmi. Hins vegar geta gögnin verið á víðu sniði þar sem búið
er að skipta talnabreytunni upp í tvær breytur, eina fyrir hvorn hóp.</p>
<p>Við mötum <code class="docutils literal notranslate"><span class="pre">t.test()</span></code> aðferðina á mismunandi vegu eftir því á hvaða
sniði gögnin eru. Enn fremur er hægt að gefa eftirfarandi stillingar</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu</span></code>: Við prófum tilgátuprófið <span class="math notranslate nohighlight">\(H_0: \mu_1 - \mu_2 =\)</span> <code class="docutils literal notranslate"><span class="pre">mu</span></code>.
<code class="docutils literal notranslate"><span class="pre">mu</span></code> er því viðmiðunargildi núlltilgátunnar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf.level</span></code>: Þar tilgreinum við hvert öryggið (og þá um leið
villulíkurnar) á að vera fyrir tilgátuprófið og öryggisbilið.
Sjálfgefið er að hafa öryggið <span class="math notranslate nohighlight">\(1-\alpha\)</span> = 0.95.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alternative</span></code>: Við gefum skipunina <code class="docutils literal notranslate"><span class="pre">alternative=&quot;two.sided&quot;</span></code> ef
gagntilgátan er tvíhliða, <code class="docutils literal notranslate"><span class="pre">alternative=&quot;greater&quot;</span></code> ef gagntilgátan
er <span class="math notranslate nohighlight">\(\mu_1 - \mu_2 &gt; \delta\)</span> og <code class="docutils literal notranslate"><span class="pre">alternative=&quot;less&quot;</span></code> ef
gagntilgátan er <span class="math notranslate nohighlight">\(\mu_1 - \mu_2 &lt; \delta\)</span>. Sjálfgefið er að hafa
tvíhliða gagntilgátu.</p></li>
</ul>
<p>Segjum sem svo að við viljum bera saman fyrri púls nemenda eftir kynjum.
Þar sem púls gögnin eru á löngu sniði gefum við skipunina:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t.test(puls$fyrriPuls~puls$kyn)
##
##  Welch Two Sample t-test
##
## data:  puls$fyrriPuls by puls$kyn
## t = 2.6808, df = 358.94, p-value = 0.007684
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  0.8000951 5.2065375
## sample estimates:
## mean in group kvk  mean in group kk
##          73.04082          70.03750
</pre></div>
</div>
<p>Í úttakinu eru fólgnar gífurlegar upplýsingar. Við fáum:</p>
<ul class="simple">
<li><p>Prófstærðina: t = 2.6808</p></li>
<li><p>Fjölda frígráða: 358.9407899</p></li>
<li><p>p-gildið: 0.0076844</p></li>
<li><p>Öryggisbilið, með örygginu tilgreindu: 95 percent confidence
interval: <span class="math notranslate nohighlight">\([0.8001,5.2065]\)</span></p></li>
<li><p>Úrtaksmeðaltölin: 73.0408, 70.0375</p></li>
</ul>
<p>Séu gögnin á víðu sniði er <code class="docutils literal notranslate"><span class="pre">t.test()</span></code> mötuð með breytunum tveimur sem
bera á saman. Í þessu tilviki komum við púlsgögnunum á vítt snið með
aðstoð skipunarinnar <code class="docutils literal notranslate"><span class="pre">spread()</span></code>, sem kynnt var í kassa
<a class="reference internal" href="../kafli02/#rf-spread"><span class="std std-numref">2.7.1.4</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulsvid</span> <span class="o">&lt;-</span> <span class="n">spread</span><span class="p">(</span><span class="n">puls</span><span class="p">,</span> <span class="n">kyn</span><span class="p">,</span> <span class="n">fyrriPuls</span><span class="p">)</span>
</pre></div>
</div>
<p>Hérna framkvæmum við sama t-prófið með skipuninni:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t.test(pulsvid$kvk, pulsvid$kk)
##
##  Welch Two Sample t-test
##
## data:  pulsvid$kvk and pulsvid$kk
## t = 2.6808, df = 358.94, p-value = 0.007684
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  0.8000951 5.2065375
## sample estimates:
## mean of x mean of y
##  73.04082  70.03750
</pre></div>
</div>
</section>
<section id="alyktanir-um-mismun-fleiri-mealtala">
<span id="s-fleirimedaltol"></span><h3><span class="section-number">8.2.4. </span>Ályktanir um mismun fleiri meðaltala<a class="headerlink" href="#alyktanir-um-mismun-fleiri-mealtala" title="Permalink to this heading"></a></h3>
<p>Eins og fjallað hefur verið um má nota z- og t-próf til að kanna mun á
meðaltölum í tveimur þýðum. Viljum við kanna mun á meðaltölum í fleiri
en tveimur þýðum notum við einþátta fervikagreiningu en hún er
umfjöllunarefni kafla <a class="reference internal" href="../kafli09/#c-fervikagreining"><span class="std std-numref">9</span></a>.</p>
</section>
<section id="alyktanir-um-mismun-mealtala-parara-maelinga">
<span id="s-paradar"></span><h3><span class="section-number">8.2.5. </span>Ályktanir um mismun meðaltala paraðra mælinga<a class="headerlink" href="#alyktanir-um-mismun-mealtala-parara-maelinga" title="Permalink to this heading"></a></h3>
<p>Þegar t-próf er framkvæmt fyrir mismun paraðra mælinga er skipunin
<code class="docutils literal notranslate"><span class="pre">t.test()</span></code> mötuð með stillingunni:</p>
<ul class="simple">
<li><p>paired=TRUE</p></li>
</ul>
<p>Annars er skipunin mötuð á nákvæmlega sama hátt og í kafla
<a class="reference internal" href="#s-tvomedaltol"><span class="std std-numref">8.2.3</span></a> þegar borin eru saman tvö meðaltöl.</p>
<p>Þegar t-próf er framkvæmt til að bera saman mismun paraðra mælinga er
enn fremur hægt að gefa aðferðinni eftirfarandi stillingar:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu</span></code>: Við prófum tilgátuprófið <span class="math notranslate nohighlight">\(H_0: \mu_d=\)</span> <code class="docutils literal notranslate"><span class="pre">mu</span></code>. <code class="docutils literal notranslate"><span class="pre">mu</span></code>
er því viðmiðunargildi núlltilgátunnar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf.level</span></code>. Þar tilgreinum við hvert öryggið (og þá um leið
villulíkurnar) á að vera fyrir tilgátuprófið og öryggisbilið.
Sjálfgefið er að hafa öryggið <span class="math notranslate nohighlight">\(1-\alpha\)</span> = 0.95.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alternative</span></code>: Við gefum skipunina <code class="docutils literal notranslate"><span class="pre">alternative=”two.sided”</span></code> ef
gagntilgátan er tvíhliða, <code class="docutils literal notranslate"><span class="pre">alternative=”greater”</span></code> ef gagntilgátan
er <span class="math notranslate nohighlight">\(\mu_d &gt; \delta\)</span> og <code class="docutils literal notranslate"><span class="pre">alternative=”less”</span></code> ef gagntilgátan
er <span class="math notranslate nohighlight">\(\mu_d &lt; \delta\)</span>. Sjálfgefið er að hafa tvíhliða
gagntilgátu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf.level</span></code>: Þar tilgreinum við hvert öryggið (og þá um leið
villulíkurnar) á að vera fyrir tilgátuprófið og öryggisbilið.
Sjálfgefið er að hafa öryggið <span class="math notranslate nohighlight">\(1-\alpha\)</span> = 0.95.</p></li>
</ul>
<p>Í púlsgögnunum liggur beint við að bera saman fyrri og seinni púls
þeirra nemenda sem að hlupu í eina mínútu. Einnig væri áhugavert að
kanna mun á fyrri og seinni. Byrjum á því að búa til tvær minni
gagnatöflur, eina fyrir þá nemendur sem hlupu og aðra fyrir þá sem hlupu
ekki.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulshljop</span> <span class="o">&lt;-</span> <span class="nb">filter</span><span class="p">(</span><span class="n">puls</span><span class="p">,</span> <span class="n">inngrip</span><span class="o">==</span><span class="s1">&#39;hljop&#39;</span><span class="p">)</span>
<span class="n">pulskyrr</span><span class="o">&lt;-</span> <span class="nb">filter</span><span class="p">(</span><span class="n">puls</span><span class="p">,</span> <span class="n">inngrip</span><span class="o">==</span><span class="s1">&#39;sat_kyrr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Könnum tilgátuna að púlsinn sé frábrugðinn fyrir og eftir krónukastið
fyrir þá sem hlupu. Athugið að núna eru pöruðu mælingarnar tvær geymdar
í tveimur dálkum og því eru gögnin á víðu sniði með því tilliti. Því
mötum við skipunina á eftirfarandi hátt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t.test(pulshljop$fyrriPuls, pulshljop$seinniPuls, paired=TRUE)
##
##  Paired t-test
##
## data:  pulshljop$fyrriPuls and pulshljop$seinniPuls
## t = -19.421, df = 179, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -28.40310 -23.16357
## sample estimates:
## mean of the differences
##               -25.78333
</pre></div>
</div>
<p>Í úttakinu sjáum við:</p>
<ul class="simple">
<li><p>Prófstærðina: t = <span class="math notranslate nohighlight">\(-19.421\)</span></p></li>
<li><p>Fjölda frígráða: 179</p></li>
<li><p>p-gildið: <span class="math notranslate nohighlight">\(6.1948544\times 10^{-46}\)</span></p></li>
<li><p>Öryggisbilið, með örygginu tilgreindu: 95 percent confidence
interval: <span class="math notranslate nohighlight">\(-28.4031\)</span>, <span class="math notranslate nohighlight">\(-23.1636\)</span></p></li>
<li><p>Úrtaksmeðaltal mismunanna: mean of the differences
<span class="math notranslate nohighlight">\([-28.4031,-23.1636]\)</span></p></li>
</ul>
<p>Við höfnum því núlltilgátunni og fullyrðum að munur sé á fyrri og seinni
púls þeirra nemenda sem hlupu í eina mínútu.</p>
<p>Berum því næst saman púls þeirra nemenda sem sátu kyrrir á meðan hinir
púluðu.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>t.test(pulskyrr$fyrriPuls, pulskyrr$seinniPuls, paired=TRUE)
##
##  Paired t-test
##
## data:  pulskyrr$fyrriPuls and pulskyrr$seinniPuls
## t = -0.22089, df = 273, p-value = 0.8253
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.7597236  0.6064389
## sample estimates:
## mean of the differences
##             -0.07664234
</pre></div>
</div>
<p>Hér er p-gildið <span class="math notranslate nohighlight">\(0.825344\)</span> og þar af leiðandi getum við ekki
hafnað núlltilgátunni og megum því ekki draga ályktanir út frá
tilgátuprófinu. Við megum þó ekki gleyma því að heilmiklar upplýsingar
eru fólgnar í öryggisbilinu fyrir mismun mælinganna. Öryggisbilið er
<span class="math notranslate nohighlight">\([-0.7597,0.6064]\)</span> svo við getum fullyrt með 95% vissu að púlsinn
hafi ekki minnkað um meira en <span class="math notranslate nohighlight">\(-0.7597\)</span> slög á mínútu og ekki
hækkað um meira en <span class="math notranslate nohighlight">\(0.6064\)</span> slög á mínútu. Við getum því hæglega
fullyrt að breyting púlsins sé innan við eitt slag á mínútu.</p>
</section>
</section>
<section id="levene-prof-fyrir-dreifni-ast">
<h2><span class="section-number">8.3. </span>Levene próf fyrir dreifni<span class="math notranslate nohighlight">\(^\ast\)</span><a class="headerlink" href="#levene-prof-fyrir-dreifni-ast" title="Permalink to this heading"></a></h2>
<p>Ef gögnin okkar fylgja normaldreifingu er Bartlett prófið sem fjallað
var um hér að framan besta prófið að nota til að kanna hvort munur sé á
dreifni hópanna. Ef gögnin fylgja ekki normaldreifingu er betra að nota
svo kallað Levene-próf. Skipunin <code class="docutils literal notranslate"><span class="pre">leveneTest()</span></code> sem tilheyrir <code class="docutils literal notranslate"><span class="pre">car</span></code>
pakkanum framkvæmir Levene próf.</p>
</section>
<section id="stikalaus-prof-ast">
<span id="s-stikalaus"></span><h2><span class="section-number">8.4. </span>Stikalaus próf<span class="math notranslate nohighlight">\(^\ast\)</span><a class="headerlink" href="#stikalaus-prof-ast" title="Permalink to this heading"></a></h2>
<section id="id2">
<h3><span class="section-number">8.4.1. </span>Stikalaus próf<span class="math notranslate nohighlight">\(^\ast\)</span><a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Ef skilyrði þess að hægt sé að framkvæma t-próf eru ekki uppfyllt er í
sumum tilvikum hægt að nota stikalaus próf þeirra í stað. Algengasta
stikalausa prófið er Wilcox prófið sem hægt er framkvæma með skipuninni
<code class="docutils literal notranslate"><span class="pre">wilcox.test()</span></code>.</p>
<section id="wilcox-test">
<h4><span class="section-number">8.4.1.1. </span>wilcox.test()<a class="headerlink" href="#wilcox-test" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> nöfn á einni eða tveimur talnabreytum eða nafn á talnabreytu
og flokkabreytu</p>
<p><strong>Úttak:</strong> gildi á prófstærð, p-gildi</p>
<p><strong>Helstu stillingar:</strong> paired, mu, alternative</p>
</div>
<hr class="docutils" />
<p>Prófið má framkvæma til að kanna eitt miðgildi eða bera saman tvö
miðgildi og þá einnig fyrir paraðar mælingar. Skipunin er mötuð á sama
hátt og <code class="docutils literal notranslate"><span class="pre">t.test()</span></code>. Gætið ykkar að stikalaus próf geta einnig verið
skilyrðum háð. Sem dæmi þá krefst óparaða Wilcox prófið þess að eini
munurinn á dreifingu breytanna tveggja sé hliðrun um fasta tölu og því á
það ekki við ef breytileiki breytanna er ólíkur.</p>
<p>Hér fyrir neðan má sjá sömu dæmi og hér að ofan framkvæmd með
<code class="docutils literal notranslate"><span class="pre">wilcos.test()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wilcox.test(puls$fyrriPuls,mu=70)
##
##  Wilcoxon signed rank test with continuity correction
##
## data:  puls$fyrriPuls
## V = 51812, p-value = 0.003055
## alternative hypothesis: true location is not equal to 70
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">##  Wilcoxon rank sum test with continuity correction</span>
<span class="c1">##</span>
<span class="c1">## data:  puls$fyrriPuls by puls$kyn</span>
<span class="c1">## W = 26878, p-value = 0.01187</span>
<span class="c1">## alternative hypothesis: true location shift is not equal to 0</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wilcox.test(pulshljop$fyrriPuls, pulshljop$seinniPuls, paired=TRUE)
##
##  Wilcoxon signed rank test with continuity correction
##
## data:  pulshljop$fyrriPuls and pulshljop$seinniPuls
## V = 8, p-value &lt; 2.2e-16
## alternative hypothesis: true location shift is not equal to 0
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wilcox.test(pulskyrr$fyrriPuls, pulskyrr$seinniPuls, paired=TRUE)
##
##  Wilcoxon signed rank test with continuity correction
##
## data:  pulskyrr$fyrriPuls and pulskyrr$seinniPuls
## V = 13897, p-value = 0.9758
## alternative hypothesis: true location shift is not equal to 0
</pre></div>
</div>
</section>
</section>
</section>
<section id="leiksvaei-fyrir-r-koa">
<h2><span class="section-number">8.5. </span>Leiksvæði fyrir R kóða<a class="headerlink" href="#leiksvaei-fyrir-r-koa" title="Permalink to this heading"></a></h2>
<p>Hér fyrir neðan er hægt að skrifa R kóða og keyra hann. Notið þetta svæði til að prófa ykkur áfram með skipanir kaflans. Athugið að við höfum þegar sett inn skipun til að lesa inn <code class="docutils literal notranslate"><span class="pre">puls</span></code> gögnin sem eru notuð gegnum alla bókina.</p>
<div data-datacamp-exercise data-lang="r"><code data-type="sample-code"># Gogn sott og sett i breytuna puls.
puls <- read.table ("https://raw.githubusercontent.com/edbook/haskoli-islands/main/pulsAll.csv", header=TRUE, sep=";")

# Setjid ykkar eigin koda her fyrir nedan:
# Sem daemi, skipunin head(puls) skilar fyrstu nokkrar radirnar i gognunum
# asamt dalkarheitum.
head(puls)</code></div></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../kafli07/" class="btn btn-neutral float-left" title="7. Ályktanir um flokkabreytur" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../kafli09/" class="btn btn-neutral float-right" title="9. Einþátta fervikagreining" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<script>
    window.addEventListener("load", function () {
        for (var i in ggbAppletId) {
            ggbAppletId[i].inject(i);
        }
    });
</script>


 

<style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search,
    .wy-nav-top {
       /* HI: #10099F, VoN: #EB7125, orginal #01447B */
       background: #321c4a;
    }

    /* Sidebar */
    .wy-nav-side {
      /* orginal #343131, HÍ grár dekkri: #EEEEEE, HÍ svartur: #262626 */
      background: #262626;
    }
</style>


</body>
</html>